---
order: 6
title: data structure
description: 자료구조 - 그래프
summary:
keywords:
- data
- data structure
- graph
- 그래프
tags:
- data
- data structure
created_time: 2024-10-06 03:23
modified_time: 2024-12-05 20:56
---

# Graph
: 데이터 관계를 [그래프](../../mathematics/discrete-mathematics/graph.md) 구조로 표현한 자료구조  
: 다른 자료구조가 데이터 저장에 사용된다면 그래프는 데이터 간 연결 관계와 구조를 파악하는데 초점을 둠  
: 일대일, 다대다 관계를 그래프로 표현해 데이터의 흐름, 연결성, 경로를 분석하고 이를 탐색함  
: 그래프 정점과 간선을 탐색하기 위해 다양한 [알고리즘](../../program/algorithm/graph-algorithm.md)이 존재

- [그래프 종류](#graph-type)
- [그래프 구현](#graph-implementation)
  - [인접 행렬](#adjacency-matrix)
  - [부속 행렬](#incidence-matrix)
  - [인접 리스트](#adjacency-list)
  - [간선 리스트](#edge-list)
- [그래프 알고리즘](../../program/algorithm/graph-algorithm.md)


**주요 용어**

용어 | 설명
---|---
정점 (노드) | 데이터 또는 객체
간선 (엣지) | 객체를 연결하는 선으로 정점 간 관계를 표현
인접 | 정점이 간선으로 직접 연결되어 있는 상태
경로 | 정점들을 간선으로 연결한 순서
차수 | 하나의 정점을 연결하는 간선의 개수
가중치 | 간선에 부여된 값 (비용, 거리, 시간 등)


> G = (V, E)

그래프는 정점 집합 V(Vertex Set)와 간선 집합 E(Edge Set)로 구성됨


```
  A ㅡ B
   \     
    C

V = {A, B, C}
E = {(A, B) (A, C)}

A와 B는 인접하며 간선 (A, B)는 정점 A와 B에 부수됨
A와 C는 인접하며 간선 (A, C)는 정점 A와 C에 부수됨
```


**정점**  
: 그래프를 구성하는 데이터로 그래프는 하나 이상 정점으로 구성됨  
: 정점은 고유한 식별자를 가지며 도메인에 따라 속성이 추가 될 수 있음  
: 정점은 다른 정점과 연결되지만 상황에 따라 연결되지 않은 독립적인 상태로 존재할 수 있음  

**간선**  
: 그래프에서 두 정점 간 관계를 나타내며 정점이 없다면 간선도 존재할 수 없음  
: 두 정점이 간선으로 직접 연결되면 인접한다고 하며 이 간선은 두 정점에 부수된다고 표현함  
: 간선은 방향성을 가질 수 있으며 이에 따라 진입 차수와 진출 차수로 구분됨  

- 진입 차수 : 정점으로 들어오는 간선 수
- 진출 차수 : 정점에서 나가는 간선 수
- 정점의 차수 : 한 정점에 연결되어 있는 간선의 수

```
  A --> B <-- C

정점 A의 진출 차수는 1이며 간선은 (A, B)
정점 B의 진입 차수는 2이며 간선은 (A, B), (C, B)
정점 C의 진출 차수는 1이며 간선은 (C, B)
```


**경로**  
: 정점들이 간선으로 연결된 상태에서 이를 따라 이동하는 순서열  
: 경로에 포함된 간선의 개수를 경로의 길이라고 함  

- 단순 경로 : 경로 상 모든 정점이 한 번만 나타나는 경로 (중복 방문 불가)
- 기본 경로 : 경로 상 모든 간선이 한 번만 사용되는 경로 (같은 간선 재사용 불가)
- 순환 경로 : 시작 정점과 끝 정점이 동일한 경로
- 최단 경로 : 두 정점 사이에서 간선의 개수가 최소거나 간선의 가중치 합이 가장 적은 경로


**그래프 특성**

특성 | 설명
---|---
루프 | 하나의 정점에서 출발하여 자기 자신으로 돌아오는 간선
연결성 | 정점 간 연결 여부를 나타내며 이에 따라 연결 그래프와 비연결 그래프로 분류됨
사이클 | 정점들이 서로 연결되어 시작한 정점으로 다시 되돌아 오는 경로를 의미
연결 요소 | 무방향 그래프에서 각 정점 간에 경로가 존재하는 최대 연결된 정점 집합 
강한 연결 요소 | 방향 그래프에서 모든 정점들이 서로 도달 가능한 최대 연결된 정점 집합 
밀집도 | 가능한 최대 간선 수 대비 실제 간선 수의 비율로 그래프의 복잡도를 나타냄


**사이클**  
: 사이클을 통해 그래프가 트리인지 여부를 확인할 수 있음  
: 트리는 그래프의 특수한 형태로 연결 그래프이며 사이클이 없고 정점간 경로가 유일함  

종류 | 설명
---|---
단순 사이클 | 정점을 한 번만 지나는 사이클로 중복 방문이 없음
복합 사이클 | 일부 정점을 여러번 방문하는 사이클로 경로가 중복되어 복잡함



## Graph Type
: 그래프는 정점과 간선의 특성에 따라 다양한 종류가 존재하며 특성에 따라 여러 타입을 가질 수 있음  

종류 | 설명
---|---
빈 그래프 | 정점은 존재하지만 간선이 없는 그래프
연결 그래프 | 모든 정점이 하나 이상 경로로 연결된 그래프
비연결 그래프 | 정점 간의 연결이 없거나 모두 연결되지 않은 그래프로 빈 그래프를 포함함
방향 그래프 | 간선에 방향이 있는 그래프
무방향 그래프 | 간선에 방향이 없는 그래프
혼합 그래프 | 방향성 간선과 무방향 간선이 혼합된 그래프
희소 그래프 | 간선의 수가 적은 그래프
다중 그래프 | 하나의 정점 쌍이 여러 간선을 통해 연결된 그래프
가중치 그래프 | 간선에 가중치가 있는 그래프
비가중 그래프 | 간선에 가중치가 없는 그래프
순환 그래프 | 사이클을 포함하는 그래프
비순환 그래프 | 사이클이 없는 그래프
이분 그래프 | 정점을 두 개의 독립 집합으로 나눌 수 있는 그래프
밀집 그래프 | 최대 간선 수에 가까운 그래프 (간선의 수가 정점 수의 제곱에 근접함)
완전 그래프 | 모든 정점이 서로 연결된 그래프로 모든 정점 쌍에 대해 간선이 존재함



### 방향 그래프
: 각 간선이 특정 방향을 가지는 그래프로 정점의 순서나 의존 관계를 표현하기 위해 사용  
: 방향 그래프에서 정점의 차수는 진입 차수와 진출 차수를 합한 값  

종류 | 설명
---|---
방향 가중 그래프 | 간선에 방향이 있고 가중치가 있는 그래프
방향 순환 그래프 | 하나 이상 사이클을 포함한 방향 그래프
방향 비순환 그래프 | 사이클이 없는 방향 그래프 (= DAG)


**방향 그래프 vs 무방향 그래프**  

특징 | 방향 그래프 | 무방향 그래프
---|---|---
방향성 | 간선에 방향이 있어 단방향으로 이동 가능 | 간선에 방향이 없으며 양방향 이동 가능
표현 방식 | (v1, v2) 처럼 순서쌍으로 간선을 표현 | {v1, v2} 처럼 순서없는 집합으로 간선을 표현
최대 간선 개수 | n(n-1) | n(n-1)/2


**완전 방향 그래프**  
: 모든 정점이 다른 모든 정점과 방향을 갖는 간선으로 연결된 방향 그래프  
: 정점 간 모든 관계가 표현되는 경우 사용되며 네트워크 통신망, 소셜 네트워크 등에 사용됨  
: 정점이 늘어나면 간선 수가 급격하게 증가하므로 메모리와 연산 비용이 커짐  



## Graph Implementation
: 컴퓨터 메모리 상에 그래프 자료구조를 저장하는 방식  
: 다양한 방식이 있으며 문제의 성격과 데이터의 크기에 따라 적합한 방식이 달라짐  
: 크게 행렬 기반과 리스트 기반으로 저장 방식이 분류됨  

**행렬 기반**
- [인접 행렬](#adjacency-matrix)
- [부속 행렬](#incidence-matrix)

**리스트 기반**
- [인접 리스트](#adjacency-list)
- [간선 리스트](#edge-list)


기준 | 인접 행렬 | 부속 행렬 | 인접 리스트 | 간선 리스트 
---|---|---
임의 접근 | 빠름 | 중간 | 느림 | 느림
삽입/삭제 | 느림 | 중간 | 빠름 | 빠름
간선 확인 | 빠름 | 중간 | 느림 | 느림
메모리 효율성 | 낮음 | 중간 | 높음 | 중간
데이터 패턴 | 고정된 정점과 간선 | 복잡한 관계 표현 | 동적으로 연결 | 동적 간선 위주



### Adjacency Matrix
: 그래프의 정점 간 연결 관계를 행렬로 표현하고 2차원 배열로 구현한 자료구조  
: 행렬의 크기는 정점 개수 × 정점 개수로 결정되며 각 원소는 간선의 유무나 가중치를 나타냄  


**무방향 그래프**  
: 정점이 연결되지 않으면 0으로 표현하고 연결되면 1로 표현  

```
A -- B -- C

E = [{A, B}, {B, C}]

    A  B  C
A  [0, 1, 0]  # A와 B 연결
B  [1, 0, 1]  # B와 A 연결, B와 C 연결
C  [0, 1, 0]  # C와 B 연결
```

=> 인접 행렬은 무방향 그래프에서 대칭 행렬이 됨 (matrix[i][j] = matrix[j][i])  
이는 동일한 간선이므로 그래프 탐색시 각 간선을 한 번만 탐색하여 중복 탐색을 줄일 수 있음  
단 간선에 가중치가 없는 경우만 해당되며 가중치가 있는 경우 방향과 가중치를 모두 고려해 탐색해야 함


**방향 그래프**  
: 행은 출발 정점, 열은 도착 정점이며 연결되지 않으면 0으로 표현하고 연결되면 1로 표현

```
A --> B --> C --> A

E = [(A, B), (B, C), (C, A)]

    A  B  C
A  [0, 1, 0]  # A와 B 연결
B  [0, 0, 1]  # B와 C 연결
C  [1, 0, 0]  # C와 A 연결

```



### Incidence Matrix
: 그래프의 정점과 간선 간 관계를 행렬로 표현하고 2차원 배열로 구현된 자료구조  
: 행렬의 크기는 정점 개수 × 간선 개수로 결정되며 행은 정점을 열은 간선을 나타냄  
: 간선의 속성이나 간선의 존재 여부를 분석하기 위해 사용됨  

**인접 행렬 vs 부속 행렬**  
: 인접 행렬은 정점 간 연결 관계를 나타내며 부속 행렬은 정점과 간선 간 관계를 나타냄  


**무방향 그래프**  
: 간선이 정점에 연결되어 있으면 1로 표시함

```
A -- B -- C

E = [{A, B}, {B, C}]

    1  2
A  [1, 0]  
B  [1, 1]
C  [0, 1]
```


**방향 그래프**  
: 출발하는 정점에는 1 도착하는 정점에는 -1로 표현

```
A --> B --> C --> D

E = [(A, B), (B, C), (C, D)]

     1   2   3
A  [ 1,  0,  0]  
B  [-1,  1,  0]
C  [ 0, -1,  1]
D  [ 0,  0, -1]
```



## Adjacency List
: 그래프의 정점 간 관계를 리스트로 표현하고 배열, 연결 리스트, 집합 등으로 구현한 자료구조  
: 각 정점에 연결된 간선들을 링크로 관리하고 각 정점에 연결된 다른 정점들의 목록을 저장함  


**무방향 그래프**
```
A -- B -- C -- D

정점 A = [B]
정점 B = [A, C]
정점 C = [B, D]
정점 D = [C]
```


**방향 그래프**
```
A --> B --> C --> D

정점 A = [B]
정점 B = [C]
정점 C = [D]
정점 D = []
```



## Edge List
: 그래프의 모든 간선의 정보를 목록으로 표현하고 배열이나 리스트로 구현한 자료구조  
: 각 간선은 두 정점의 순서 쌍으로 표현됨  
: 방향 그래프에서는 간선의 순서가 중요하고 무방향 그래프에서는 간선의 순서가 중요하지 않음  


**무방향 그래프**
```
A -- B -- C -- D

E = [{A, B}, {B, C}, {C, D}]
E = [{B, A}, {C, B}, {D, C}]

=> {A, B}와 {B, A}는 동일한 간선임
```


**방향 그래프**
```
A --> B --> C --> D

E = [(A, B), (B, C), (C, D)]

=> (A, B)와 (B, A)는 서로 다른 간선임
```


**혼합 그래프**
```
A -- B --> C --> D

E = [{A, B}, (B, C), (C, D)]
```